{% extends 'layout.html' %} {% block content %}
<div class="md:mr-24">
  <div class="flex flex-col pt-12 p-7">
    <!-- prettier-ignore -->
    <div>
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          {% for message in messages %}
            <p class="text-center text-indigo-300">{{ message }}</p>
          {% endfor %}
        {% endif %}
      {% endwith %}
    </div>
    <p class="text-white font-bold text-center md:text-left text-3xl">
      Edit Weapon
    </p>
    <div class="pt-12 flex flex-col items-center md:items-start">
      <form
        action="/edit_weapon/{{ weapon_data.id }}"
        enctype="multipart/form-data"
        method="post"
        class="space-y-10"
      >
        <!-- prettier-ignore -->
        <div class="text-white space-y-2">
          <p class="font-semibold">Previous weapon image</p>
          {% if weapon_data.img == 'uploads/weapons/' or weapon_data.img == '' %}
            <input type="text" class="
            px-4
            w-full
            md:w-96
            bg-gray-800
            hover:bg-gray-700
            rounded-lg
            border-2 border-transparent
            hover:border-indigo-500" value="No weapon image displayed" readonly />
          {% else %}
            <input type="text" class="
            px-4
            w-full
            md:w-96
            bg-gray-800
            hover:bg-gray-700
            rounded-lg
            border-2 border-transparent
            hover:border-indigo-500" value="{{ weapon_data.img }}" readonly />
          {% endif %}  
        </div>
        <div class="text-white space-y-2">
          <p class="font-semibold">Image</p>

          <input type="file" name="weaponimage" id="weaponimage" required />
        </div>
        <div class="text-white space-y-2">
          <p class="font-semibold">Name</p>
          <input
            class="
              px-4
              w-full
              md:w-96
              bg-gray-800
              hover:bg-gray-700
              rounded-lg
              border-2 border-transparent
              hover:border-indigo-500
            "
            type="text"
            name="weaponname"
            id="weaponname"
            placeholder="Weapon name"
            value="{{ weapon_data.name }}"
            required
          />
        </div>
        <div class="text-white space-y-2">
          <p class="font-semibold">Category</p>
          <select
            class="
              px-4
              w-full
              md:w-96
              bg-gray-800
              hover:bg-gray-700
              rounded-lg
              border-2 border-transparent
              hover:border-indigo-500
            "
            name="weaponcategory"
            id="weaponcategory"
            required
          >
            <option value="Sidearms">Sidearms</option>
            <option value="SMGs">SMGs</option>
            <option value="Rifles">Rifles</option>
            <option value="Shotguns">Shotguns</option>
            <option value="Machine Guns">Machine Guns</option>
            <option value="Sniper Rifles">Sniper Rifles</option>
            <option value="Melee">Melee</option>
          </select>
        </div>
        <div class="text-white space-y-2">
          <p class="font-semibold">Primary fire rate</p>
          <input
            class="
              px-4
              w-full
              md:w-96
              bg-gray-800
              hover:bg-gray-700
              rounded-lg
              border-2 border-transparent
              hover:border-indigo-500
            "
            type="text"
            name="pfr"
            id="pfr"
            placeholder="Primary fire rate"
            value="{{ weapon_data.pfr }}"
            required
          />
        </div>
        <div class="text-white space-y-2">
          <p class="font-semibold">Alt fire rate</p>
          <input
            class="
              px-4
              w-full
              md:w-96
              bg-gray-800
              hover:bg-gray-700
              rounded-lg
              border-2 border-transparent
              hover:border-indigo-500
            "
            type="text"
            name="afr"
            id="afr"
            placeholder="Alt fire rate"
            value="{{ weapon_data.afr }}"
            required
          />
        </div>
        <div class="text-white space-y-2">
          <p class="font-semibold">Body damage</p>
          <input
            class="
              px-4
              w-full
              md:w-96
              bg-gray-800
              hover:bg-gray-700
              rounded-lg
              border-2 border-transparent
              hover:border-indigo-500
            "
            type="number"
            name="bodydmg"
            id="bodydmg"
            placeholder="Body damage"
            value="{{ weapon_data.body_dmg }}"
            required
          />
        </div>
        <div class="text-white space-y-2">
          <p class="font-semibold">Head damage</p>
          <input
            class="
              px-4
              w-full
              md:w-96
              bg-gray-800
              hover:bg-gray-700
              rounded-lg
              border-2 border-transparent
              hover:border-indigo-500
            "
            type="number"
            name="headdmg"
            id="headdmg"
            placeholder="Head damage"
            value="{{ weapon_data.head_dmg }}"
            required
          />
        </div>
        <div class="text-white space-y-2">
          <p class="font-semibold">Leg damage</p>
          <input
            class="
              px-4
              w-full
              md:w-96
              bg-gray-800
              hover:bg-gray-700
              rounded-lg
              border-2 border-transparent
              hover:border-indigo-500
            "
            type="number"
            name="legdmg"
            id="legdmg"
            placeholder="Leg damage"
            value="{{ weapon_data.leg_dmg }}"
            required
          />
        </div>
        <div class="text-white space-y-2">
          <p class="font-semibold">Magazine capacity</p>
          <input
            class="
              px-4
              w-full
              md:w-96
              bg-gray-800
              hover:bg-gray-700
              rounded-lg
              border-2 border-transparent
              hover:border-indigo-500
            "
            type="number"
            name="mag"
            id="mag"
            placeholder="Magazine capacity"
            value="{{ weapon_data.mag }}"
            required
          />
        </div>
        <div class="text-white space-y-2">
          <p class="font-semibold">Wall penetration</p>
          <input
            class="
              px-4
              w-full
              md:w-96
              bg-gray-800
              hover:bg-gray-700
              rounded-lg
              border-2 border-transparent
              hover:border-indigo-500
            "
            type="text"
            name="wp"
            id="wp"
            placeholder="Wall penetration"
            value="{{ weapon_data.wp }}"
            required
          />
        </div>
        <div class="text-center md:text-right">
          <button type="submit" class="text-indigo-500 hover:text-indigo-700">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              class="h-16 w-16"
              viewBox="0 0 20 20"
              fill="currentColor"
            >
              <path
                fill-rule="evenodd"
                d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z"
                clip-rule="evenodd"
              />
            </svg>
          </button>
        </div>
      </form>
      <div class="text-indigo-300 pt-16 font-semibold">
        <a href="/manage_weapons">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 inline-block"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path
              fill-rule="evenodd"
              d="M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z"
              clip-rule="evenodd"
            />
          </svg>
          <span class="align-middle hover:underline">Go back</span>
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock content %}
